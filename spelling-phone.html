<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>××©×—×§ ××™×•×ª â€“ ×’×¨×¡×ª ×˜×œ×¤×•×Ÿ</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f3f4f6;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}
.box {
  background: white;
  padding: 16px;
  border-radius: 12px;
  width: 100%;
  max-width: 420px;
  text-align: center;
}
button, input {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  font-size: 18px;
}
#feedback {
  margin-top: 10px;
  font-weight: bold;
}
#summary {
  margin-top: 15px;
  font-size: 15px;
  text-align: right;
}
.hidden {
  display: none;
}
</style>
</head>

<body>

<div class="box">

  <!-- × ×’×Ÿ ××•×“×™×• ×§×‘×•×¢ â€“ ×–×” ××” ×©×¤×•×ª×— ××ª ×”×‘×¢×™×” -->
  <audio id="player"></audio>

  <h2>××©×—×§ ××™×•×ª</h2>

  <button onclick="playWord()">ğŸ”Š ×”×©××¢ ××™×œ×”</button>

  <input
    id="answer"
    placeholder="×›×ª×•×‘ ×›××Ÿ"
    autocomplete="off"
    autocorrect="off"
    autocapitalize="off"
    spellcheck="false"
    inputmode="text"
  >

  <button onclick="checkAnswer()">×‘×“×•×§</button>

  <div id="feedback"></div>

  <div>
    ××™×œ×” <span id="current">1</span> ××ª×•×š <span id="total"></span>
  </div>

  <div id="summary" class="hidden"></div>

</div>

<script>
const WORDS = [
"××™×’×¨×ª","××–×¨×—","××—×•×•×”","××™×›×•×ª","××›×–×‘×”","×××œ×ª×¨×™×","×”×ª××©×¤×–×ª×™","×‘×›×•×¨","×‘×©×•×¨×”","×–×›×•×™×•×ª×™×•",
"×–×¢×™×¨","×—×•×›××”","×¢×©×©×™×ª","×©×‘×”","×©×‘×—","×§×¢×§×•×¢","×§×¨×˜×¢×”","×¦×™×™×ª","×”×ª×¢×˜×£","× ×§×˜",
"×œ×”×©×ª×—×œ","××©×•××•×ª","×©×•×•×”","××˜×•×¤×—×•×ª","×˜×¨×§×ª×™","× ××œ×","××ª×•×—×›××™×","× ×’××œ","×›×—×•×©","×˜×‘×¢×”",
"×©×™×˜×•×ª","×¢×¨×™×¥","×”×›×¨×™×¢","××”×•×œ×”","×˜×¨×—×”","××§×©×§×©×™×","×§××œ×•","×”××¨×›×”","×”×¦×˜× ×¢","×”×•×“×¢×”",
"× ×¡×—×¤×”","××¢×“×•","× ×¢×“×¨×ª","×”×¤×›×¤×š","×›×”×”","×”×§×¨×™×","×”×•×¦××•×ª","×ª×¢×œ×•××”","××¢×¨×‘×•×œ×•×ª","×¦×•×•×—×”",
"× ×˜×™×¢×•×ª","×’×•×¢×©","×¨×‘×™×¢×™×™×”","×¨×¢×™×•×Ÿ","×¢×˜","××ª×¢×¦×","×œ×—×œ×•×˜×™×Ÿ","××§×•××˜×ª","×˜×¢× ×”","×”×ª×›×•×•×¥",
"×§×˜× ×˜× ×•×ª","×¢×¦×•×","×—×¨×˜×”","××’×•×—×š","×›×¨×š","× ×¢×œ×","×”×¨×”×¨×ª×™","×¡×•×× ×ª","×”×ª×œ×”×˜×•","×’×‘×•×”×”"
];

// ×¢×¨×‘×•×‘ ×¨× ×“×•××œ×™ ×œ×œ× ×—×–×¨×•×ª
function shuffle(arr) {
  return arr
    .map(v => ({ v, r: Math.random() }))
    .sort((a, b) => a.r - b.r)
    .map(o => o.v);
}

let words = shuffle([...WORDS]);
let index = 0;
let mistakes = [];

document.getElementById("total").innerText = words.length;

function playWord() {
  const player = document.getElementById("player");
  player.src = `audio/${words[index]}.mp4`;
  player.play();
}

function checkAnswer() {
  const input = document.getElementById("answer");
  const feedback = document.getElementById("feedback");
  const user = input.value.trim();

  if (!user) {
    feedback.innerText = "×›×ª×•×‘ ××™×œ×” ×œ×¤× ×™ ×”×‘×“×™×§×”";
    return;
  }

  if (user === words[index]) {
    feedback.innerText = "× ×›×•×Ÿ âœ”ï¸";
  } else {
    feedback.innerText = "×œ× × ×›×•×Ÿ. ×”××™×œ×”: " + words[index];
    mistakes.push(words[index]);
  }

  input.value = "";
  index++;

  if (index >= words.length) {
    endRound();
  } else {
    document.getElementById("current").innerText = index + 1;
  }
}

function endRound() {
  document.getElementById("feedback").innerText = "×”×¡×‘×‘ ×”×¡×ª×™×™×";
  document.getElementById("summary").classList.remove("hidden");

  if (mistakes.length === 0) {
    document.getElementById("summary").innerText =
      "ğŸ‰ ××•×©×œ×! ×œ× ×”×™×• ×˜×¢×•×™×•×ª.";
  } else {
    document.getElementById("summary").innerHTML =
      "<strong>××™×œ×™× ×©×›×“××™ ×œ×—×–×§:</strong><br>" +
      mistakes.join(", ");
  }

  document.getElementById("answer").disabled = true;
}
</script>

</body>
</html>
