<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>××™×•×ª ×¢× ×¤×™×¨×•×©</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f3f4f6;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}
.box {
  background: white;
  padding: 18px;
  border-radius: 12px;
  width: 100%;
  max-width: 420px;
  text-align: center;
}
button, input {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  font-size: 18px;
}
#feedback {
  margin-top: 10px;
  font-weight: bold;
}
#progress {
  margin-top: 8px;
  font-size: 14px;
}
#summary {
  margin-top: 15px;
  text-align: right;
  font-size: 15px;
}
.hidden {
  display: none;
}
</style>
</head>

<body>

<div class="box">

  <audio id="player"></audio>

  <h2>×©×•××¢×™× â€“ ××‘×™× ×™× â€“ ×××™×™×ª×™×</h2>

  <button onclick="playText(words[index].word)">ğŸ”Š ×”×©××¢ ××™×œ×”</button>
  <button onclick="playText(words[index].meaning)">ğŸ§  ×”×©××¢ ×¤×™×¨×•×©</button>

  <input
    id="answer"
    placeholder="×›×ª×•×‘ ××ª ×”××™×œ×” ×›××Ÿ"
    autocomplete="off"
    autocorrect="off"
    autocapitalize="off"
    spellcheck="false"
  >

  <button onclick="checkAnswer()">×‘×“×•×§</button>

  <div id="feedback"></div>

  <div id="progress">
    ××™×œ×” <span id="current">1</span> ××ª×•×š <span id="total"></span>
  </div>

  <div id="summary" class="hidden"></div>

</div>

<script>
const words = [
  { word: "×”×ª××¢×˜×•×ª", meaning: "×”×§×˜× ×”, × ×”×™×” ×¤×—×•×ª" },
  { word: "×ª×¢×ª×•×¢×™×", meaning: "××©×œ×™×•×ª, ×“×‘×¨×™× ×©×œ× ×‘×××ª ×§×™×™××™×" },
  { word: "×”×ª×¤×™×—×”", meaning: "×’×“×™×œ×”, ×”×ª× ×¤×—×•×ª" },
  { word: "×”×¡×ª××‘×•×ª", meaning: "×§×œ×§×•×œ, ×”×™×“×¨×“×¨×•×ª" },
  { word: "×××•×¨×¢×•×ª", meaning: "×“×‘×¨×™× ×©×§×¨×•, ××§×¨×™×" },
  { word: "×ª×¡×¨×™×˜××™", meaning: "××™ ×©×›×•×ª×‘ ×ª×¡×¨×™×˜×™×" },
  { word: "×©×›×©×•×š", meaning: "× ×¢× ×•×¢ ×‘××™×" },
  { word: "×”×ª××–×¨", meaning: "×”×ª×’×‘×¨, ×”×ª×—×–×§" },
  { word: "×—×¡×›×•× ×™", meaning: "×œ× ××‘×–×‘×– ×›×¡×£" },
  { word: "×”×˜×¤×ª×", meaning: "×“×™×‘×¨×ª× ×•×”×–×”×¨×ª× ××—×¨×™×" }
];

// ×¢×¨×‘×•×‘ ×¨× ×“×•××œ×™
words.sort(() => Math.random() - 0.5);

let index = 0;
let mistakes = [];

document.getElementById("total").innerText = words.length;

function playText(text) {
  const player = document.getElementById("player");
  const encoded = encodeURIComponent(text);
  player.src =
    `https://translate.google.com/translate_tts?ie=UTF-8&client=tw-ob&tl=he&q=${encoded}`;
  player.play();
}

function checkAnswer() {
  const input = document.getElementById("answer");
  const feedback = document.getElementById("feedback");

  if (input.value.trim() === words[index].word) {
    feedback.innerText = "× ×›×•×Ÿ âœ”ï¸";
  } else {
    feedback.innerText = "×œ× × ×›×•×Ÿ. ×”××™×œ×” ×”×™×: " + words[index].word;
    mistakes.push(words[index].word);
  }

  input.value = "";
  index++;

  if (index >= words.length) {
    endRound();
  } else {
    document.getElementById("current").innerText = index + 1;
  }
}

function endRound() {
  document.getElementById("summary").classList.remove("hidden");

  if (mistakes.length === 0) {
    document.getElementById("summary").innerText =
      "ğŸ‰ ×¡×‘×‘ ××•×©×œ×! ××™×Ÿ ××™×œ×™× ×œ×—×™×–×•×§.";
  } else {
    document.getElementById("summary").innerHTML =
      "<strong>××™×œ×™× ×©×¦×¨×™×š ×œ×—×–×§ ×‘××™×•×ª:</strong><br>" +
      mistakes.join(", ");
  }
}
</script>

</body>
</html>
